# 유저 시나리오 기반 기능 정의, 요구사항 명세

### 유저 스토리(공통) - 목록 조회

- 20(기본)/50/100 으로 페이징 기능을 사용할수 있다.

### 유저 스토리1 - 상품목록 조회

- 사용자는 여러브랜드의 상품목록을 둘러볼수 있다.
- 특정 브랜드의 상품만 필터링 할수 있다.
- 최신순/낮은가격순/좋아요수로 정렬할수 있다.

#### 기능 흐름

1. 비로그인/로그인 사용자 모두 가능
2. 등록된 상품 목록을 페이징 기능으로 둘러볼수 있다.
3. 없으면 "등록된 상품이 없습니다"
4. 각 상품은 대표이미지/브랜드명/상품명/가격/총 좋아요 수를 확인할수 있다.

### 유저 스토리2 - 상품상세 조회

- 사용자는 상품목록에서 상품 클릭으로 상품상세를 검색할수 있다.

#### 기능 흐름

1. 비로그인/로그인 사용자 모두 가능
2. 등록된 상품 상세 정보를 볼수 있다.
3. 없으면 "등록된 상품정보를 찾을수 없습니다."
4. 추가로 상품의 제품 소재/색상/사이즈/제조자/제조국/판매자 정보를 확인할수 있다.
5. 제품의 상세/브랜드 대표 이미지를 확인할수 있다.

### 유저 스토리3 - 브랜드 조회

- 사용자는 상품상세에서 브랜드 정보를 검색할수 있다.

#### 기능 흐름

1. 비로그인/로그인 사용자 모두 가능
2. 등록된 브랜드 정보를 볼수 있다.
3. 없으면 "등록된 브랜드정보를 찾을수 없습니다."
4. 브랜드 대표이미지/영문명/한글명/스토리를 확인할수 있다.

### 유저 스토리4 - 좋아요

- 사용자는 상품을 좋아요할 수 있다.
- 이미 좋아요한 상품을 다시 누르면 좋아요가 취소된다.

#### 기능 흐름

1. 로그인 사용자만 가능
2. 비로그인일 경우, "로그인이 필요합니다."
3. 좋아요 누르면 존재 여부 판단
4. 없으면 저장, 있으면 삭제
5. 좋아요 수 반영

### 유저 스토리5 - 주문 생성 및 결제

- 사용자는 여러상품을 선택해 상품을 주문할수 있다.
- 결제는 포인트로 가능하다.
- 주문 생성 후 주문 상세 내역을 확인할수 있다.

#### 기능 흐름

1. 로그인 사용자만 가능
2. 비로그인일 경우, "로그인이 필요합니다."
3. 수량을 입력하고 주문을 진행한다.
4. 4-1. 재고가 없을 경우, "품절된 상품입니다."
   4-2. 재고가 부족할 경우, "{재고 수량} 이상 주문 불가한 상품입니다."
   4-3. 재고가 있을 경우, 해당 수량 HOLD 및 포인트 확인
5. 5-1. 포인트가 부족할 경우, "포인트가 부족합니다."
   5-2. 포인트 사용이 가능할 경우, 포인트 차감.
6. 6-1. 결제중 오류 발생시, "결제중 오류가 발생했습니다."
   6-2. 결제 성공시, 재고 차감 및 주문 정보 저장
7. 외부 시스템으로 주문 정보 전송
8. 주문 상세 정보 조회 및 "주문 완료되었습니다."

--- 

### 유저 스토리6 - 쿠폰 발급

- 사용자는 쿠폰을 발급받는다.

#### 기능 흐름

1. 로그인 사용자만 가능
2. 비로그인일 경우, "로그인이 필요합니다."
3. 중복 발급인경우, "이미 발급된 쿠폰입니다."
4. 쿠폰을 발급받는다.

### 유저 스토리7 - 브랜드 상품 목록 조회

- 사용자는 해당 브랜드의 상품 목록을 조회할수 있다.

#### 기능 흐름

1. 비로그인/로그인 사용자 모두 가능
2. 해당 브랜드의 등록된 상품 목록을 볼수 있다.
3. 없으면 "등록된 상품정보를 찾을수 없습니다."
4. 상품목록 조회와 같은 정보 + 총 상품수를 확인할수 있다.

### 유저 스토리8 - 좋아요 상품 목록 조회

- 로그인한 사용자는 좋아요한 상품 목록을 조회할수 있다.

#### 기능 흐름

1. 로그인 사용자만 가능
2. 비로그인일 경우, "로그인이 필요합니다."
3. 좋아요한 상품 목록을 볼수 있다.
4. 상품목록 조회와 같은 정보 + 좋아요한 총 상품수를 확인할수 있다.

### 유저 스토리9 - 주문 목록 조회

- 사용자는 주문한 상품 목록을 조회할수 있다.

#### 기능 흐름

1. 로그인 사용자만 가능
2. 비로그인일 경우, "로그인이 필요합니다."
3. 주문 목록을 볼수 있다.
4. 주문상태/색상/사이즈/수량/주문일자를 확인할수 있다.

### 유저 스토리10 - 주문 상세 조회

- 사용자는 주문한 상품 상세를 조회할수 있다.

#### 기능 흐름

1. 로그인 사용자만 가능
2. 비로그인일 경우, "로그인이 필요합니다."
3. 주문 목록에서 주문 상세를 볼수 있다.
4. 구매자 정보/결제정보/배송지정보를 확인할수 있다.

---

### 유비쿼터스 언어

사용자 → User  
좋아요 → Like  
쿠폰 → Coupon  
포인트 → Point  
충전/사용 → Charge/Use

브랜드 → Brand  
상품 → Product  
가격 → Price  
재고 → Stock 재고 HOLD/차감/HOLD해제 → allocate/commit/release  
수량 → quantity

주문 → Order  
주문 상세 → Order Item  
결제 → Pay  
랭킹 → Rank  
추천 → Recommend  
이력 → Hist  
주문 상태 : 입금전/결제완료/주문취소/상품준비중/배송중/배송완료/구매확정/환불요청/환불완료  
{  
'PND', -- 입금전
'PAY', -- 결제완료
'CXL', -- 주문취소
'PREP', -- 상품준비중
'SHP', -- 배송중
'DLV', -- 배송완료
'CFM', -- 구매확정
'RFD_REQ', -- 환불요청
'RFD' -- 환불완료  
}