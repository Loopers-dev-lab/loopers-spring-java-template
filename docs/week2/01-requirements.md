# 요구사항 명세 - 루프팩 감성 이커머스 플랫폼
## 개요
이 문서는 루프팩 이커머스 시나리오를 기반으로 한 감성 이커머스 플랫폼의 요구사항을 유저 중심으로 명세합니다. 플랫폼은 사용자에게 직관적이고 감성적인 쇼핑 경험을 제공하며, 상품 탐색부터 주문 및 결제까지의 핵심 흐름을 중점으로 설계합니다. 이 요구사항은 기능 구현의 기준점이 되며, 유저 스토리와 기능 흐름을 통해 사용자 니즈를 명확히 반영합니다.

- 설계 범위: 상품 목록 조회, 상품 상세 조회, 브랜드 조회, 상품 좋아요 등록/취소 (멱등 동작 지원), 주문 생성 및 결제 흐름 (재고 차감, 포인트 차감, 외부 시스템 연동).
- 제외 도메인: 회원가입, 포인트 충전 (1주차 구현 완료 기준으로 가정: 회원 정보와 포인트 잔액은 이미 관리됨).
- 요구사항 기반: 사용자 중심으로 상품 탐색, 찜 기능, 주문 프로세스를 강조하며, 감성적인 UI/UX를 고려하나 이번 명세에서는 기능적 측면에 초점.
- 전제 조건: 모든 기능은 인증된 회원(로그인 상태)을 기본으로 가정하나, 상품/브랜드 조회는 비회원도 가능.

이 명세는 유저 스토리 → 기능 흐름 → 요구사항(기본/추가/추후/제약) 순으로 구성되어 있습니다.

## 용어 사전 (유비쿼터스 언어)
모든 문서와 코드에서 동일하게 사용.

- 상품 (Product): 판매되는 아이템
- 브랜드 (Brand): 상품을 생산/판매하는 회사 또는 라벨
- 좋아요 (Like): 사용자가 상품에 찜하는 기능
- 주문 (Order): 사용자가 상품을 구매하는 행위 및 기록
- 포인트 (Point): 사용자 보유 화폐. 단위는 원
- 재고 (Stock): 상품의 남은 수량


## 1. 상품 목록 조회
### 유저 스토리
> 사용자로서, 다양한 상품을 쉽게 탐색하고 싶다.
> - 기본 순으로 추천된 목록이 나온다
> - 사용자는 카테고리나 브랜드로 필터링할 수 있다.
> - 정렬 기능으로 원하는 상품을 빠르게 찾을 수 있다.
> 

### 기능 흐름
1. 사용자가 상품 목록 페이지에 접근한다 (회원/비회원 모두 가능).
2. 시스템이 카테고리, 브랜드, 가격등의 필터와 정렬 기준을 적용하여 상품 목록을 조회한다.
3. 조회된 상품 목록(기본 정보 포함)을 페이지네이션 형태로 사용자에게 반환한다.
4. 후속: 사용자가 특정 상품을 선택하면 상품 상세 조회로 이동. 브랜드 영역을 선택하면 브랜드 조회로 이동.

### 요구사항
#### 기본 요구사항

- 시스템은 회원 및 비회원에게 상품 목록을 제공해야 한다.
- 상품 목록은 페이지네이션(페이지 번호, 사이즈)을 지원해야 한다.
- 각 상품 항목은 이름, 가격, 대표 이미지, 좋아요 수, 재고 상태(재고 있음/품절)를 포함해야 한다.
- 필터링을 지원해야 한다.
    - 카테고리: 디지털기기, 가구/인테리어, 유아동, 여성의류, 여성잡화, 남성패션/잡화, 생활가전, 생활/주방, 스포츠/레저, 취미/게임/음반, 뷰티/미용, 식물. 가공식품, 건강기능식품, 반려동물용품, 티켓/교환권, 도서/음반/DVD
    - 브랜드
    - 가격: 최소가, 최대가
- 정렬 기능을 제공해야 한다.
    - 기본, 인기순: 좋아요 수 기준, 최신순: 등록시간 기준, 가격순(오름,내림) 
- 조회 시 실시간 재고 상태를 반영하여 품절 상품을 필터링하거나 표시해야 한다.

#### TBD: 현재 고려 중인 추가 요구사항

- 검색 기능: 키워드 기반 상품 검색을 지원 (부분 일치, 브랜드/상품명 포함).
- 할인 정보 반영: 조회 시점에 적용 가능한 할인(세일, 쿠폰)을 가격에 반영하여 표시.
- 사용자 행동 로그 기반 개인화 추천 (예: 최근 본 상품, 좋아요 패턴).

#### 제약사항

최대 페이지 사이즈는 100으로 제한한다.
재고가 0인 상품은 목록에서 제외하거나 별도 표시한다.

## 2. 상품 상세 조회
### 유저 스토리
> 사용자로서, 상품의 세부 정보를 확인하고 구매 여부를 결정하고 싶다.
> - 이미지, 설명, 가격, 설명 등을 자세히 볼 수 있다.
> - 브랜드를 선택하여 해당 브랜드 정보를 확인할 수 있다.
> - 회원으로서, 상품 상세에서 좋아요로 나중에 쉽게 찾아볼 수 있다. 
> - 회원으로서, 주문으로 바로 이어질 수 있다
> 

### 기능 흐름
1. 사용자가 상품 ID를 통해 상세 페이지에 접근한다.
2. 시스템이 해당 상품의 상세 정보를 DB에서 조회한다.
3. 상세 정보(이미지, 설명, 가격, 재고, 좋아요 수 등)를 사용자에게 반환한다.
4. 후속: 좋아요 등록/해제 또는 주문 생성으로 연결 가능.

### 요구사항
#### 기본 요구사항
- 시스템은 상품의 상세 정보를 제공해야 한다 (회원/비회원 모두 가능).
- 상세 정보는 이름, 가격, 상세 설명, 다중 이미지, 재고 수량, 브랜드 정보, 좋아요 수를 포함해야 한다.
- 실시간 재고 상태를 반영하여 '품절' 표시 또는 구매 불가 처리.
- 조회 시 할인 적용 가격을 계산하여 표시.

#### TBD: 현재 고려 중인 추가 요구사항
- 리뷰: 사용자가 작성한 리뷰 목록과 평점 표시
- 리뷰 요약: 평균 평점과 리뷰 수를 포함
- 관련 브랜드 링크: 브랜드 조회로 연결되는 기능 제공
- 장바구니 추가 기능 (추후 설계 시점에 반영)
- 관련 상품 추천 (유사 카테고리 또는 브랜드 기반).

#### 제약사항

상품이 존재하지 않거나 삭제된 경우 에러 메시지 반환.

## 3. 브랜드 조회
### 유저 스토리
> 사용자로서, 특정 브랜드의 상품을 한눈에 보고 싶다.
> - 특정 브랜드를 선택하면 해당 브랜드의 상세 정보(이름, 로고, 소개)를 확인할 수 있다.
> - 브랜드의 상품 목록을 볼 수 있다 (회원/비회원 모두 가능).

### 기능 흐름 - 브랜드 조회
1. 사용자가 특정 브랜드 ID로 접근한다.
2. 시스템이 브랜드 정보와, 연관 상품을 조회한다.
3. 브랜드 상세 정보 및 브랜드의 상품 목록을 반환한다.
4. 후속: 상품 상세 조회로 연결 가능.

### 요구사항
#### 기본 요구사항
- 시스템은 브랜드 정보를 제공해야 한다 (회원/비회원 모두 가능).
- 브랜드 정보는 이름, 로고 URL, 설명을 포함해야 한다.
- 브랜드의 연관 상품 목록을 함께 제공해야 한다.

#### TBD: 현재 고려 중인 추가 요구사항
- 브랜드 목록 조회 기능
- 검색 기능: 브랜드 이름 키워드 검색

#### TBD: 현재 고려 중인 추가 요구사항

브랜드 팔로우 기능으로 사용자 맞춤 알림.

#### 제약사항
예외: 브랜드가 존재하지 않을 경우 빈 목록 또는 404 에러.

## 4. 상품 좋아요 등록/취소
### 유저 스토리
> 회원으로서, 관심 상품을 찜하여 나중에 쉽게 찾고 싶다.
> - 사용자는 상품을 찜할 수 있다.
> - 이미 찜한 상품을 다시 누르면 찜이 취소된다.

### 기능 흐름
1. 회원이 상품 ID와 함께 좋아요/취소 요청을 보낸다.
2. 시스템은 요청이 좋아요면 해당 상품에 대한 좋아요를 등록하고, 취소면 좋아요를 삭제한다.
3. 시스템은 상품의 좋아요 수를 업데이트한다.

### 요구사항
#### 기본 요구사항
- 회원 사용자 한정
- 시스템은 요청이 좋아요면 해당 상품에 대한 좋아요를 등록하고, 취소면 좋아요를 삭제한다.
- 시스템은 상품의 좋아요 수를 업데이트한다.

#### TBD: 현재 고려 중인 추가 요구사항

- 내 좋아요 목록 조회 기능 제공.
- 브랜드 좋아요 기능
- 좋아요 기반 추천 시스템 연동.

#### 제약사항
좋아요는 상품별로만, 브랜드 좋아요는 제외.
최대 좋아요 수 제한 없음

## 5. 주문 생성 및 결제 흐름
### 유저 스토리
> 회원으로서, 상품을 구매하고 싶다.
> 재고와 포인트가 충분하면 결제가 완료되어야 한다.
> 결제 실패 시 명확한 이유를 알려주어 재시도할 수 있어야 한다.
> 

### 기능 흐름
1. 회원이 주문 요청(상품 ID, 수량, 포인트 사용 여부)을 보낸다. 
2. 시스템이 재고 확인 및 차감 (부족 시 실패).
3. 포인트 차감.
4. 성공 시 주문 생성, 실패 시 롤백 (재고/포인트 복구).
5. 예외: 재고/포인트 부족 시 에러, 결제 실패 시 상세 메시지.

### 요구사항
#### 기본 요구사항
- 주문 생성 시 재고 차감
- 포인트 차감: 사용 지정 시 잔액 확인 후 차감
- 주문 상태를 알 수 있어야 한다. 대기 → 결제완료 → 배송준비

#### TBD: 현재 고려 중인 추가 요구사항
다중 상품 주문 (장바구니 연동).
결제 수단 다양화 (계좌이체, 간편결제).
결제 수단은 포인트만 가정 (추후 확장).

#### 제약사항
환불 흐름은 이번 설계 제외.
