# 요구사항 정리

## 용어 정의

| 한글  | 영문      | 설명               |
|-----|---------|------------------|
| 상품  | Product | 판매되는 개별 상품       |
| 브랜드 | Brand   | 상품의 판매 브랜드       |
| 좋아요 | Like    | 사용자가 상품에 표시하는 관심 |
| 주문  | Order   | 상품을 구매하는 행위      |

> 이하 모든 문서에서 위 용어를 사용합니다.

---

## 상품 목록 조회

### 유저 시나리오

- 사용자는 상품 목록을 조회할 수 있다.
- 사용자는 특정 브랜드의 상품만 필터링할 수 있다.
- 사용자는 정렬 기준(최신순, 낮은 가격순, 좋아요순)을 선택할 수 있다.
- 사용자는 페이지 번호와 페이지당 표시 개수를 조정할 수 있다.

### 행위 중심 기능 목록

- 조회: 상품 목록을 조회한다.
- 필터: 브랜드별로 필터링한다.
- 정렬: 정렬 기준을 적용한다.
- 페이징: 페이지를 이동하거나 표시 개수를 변경한다.

---

### 유스케이스 흐름

#### Main Flow

**1. 사용자가 상품 목록 페이지에 진입한다.**

- 조건: 로그인 여부와 무관하게 접근 가능
- 기본값: 전체 브랜드, 최신순, 첫번째 페이지(=0 페이지), 20개씩
- 후속 동작:
    * 시스템은 기본 조건으로 상품 목록을 조회한다.
    * 페이지네이션 정보 표시 (총 개수, 현재 페이지 등)
    * 현재 적용된 필터/정렬 상태 표시

**2. 사용자가 필터 조건을 변경한다.**

- 조건 분기:
    * 브랜드 선택 → 해당 브랜드 상품만 조회
    * 정렬 기준 변경 → 해당 정렬로 재조회
    * 페이지 이동/개수 변경 → 해당 조건으로 재조회
- 후속 동작:
    * 시스템은 변경된 조건으로 상품 목록을 다시 조회한다.
    * URL 파라미터 업데이트 (북마크/공유 가능하도록)
    * 페이지네이션 정보 업데이트

**3. 사용자가 상품 목록 페이지를 새로고침한다.**

- 후속 동작:
    * 조회 기본값이 아닌 2.에서 변경한 필터 조건으로 재조회된다.

#### Alternate Flow

**1. 조회 결과가 없는 경우**

- Main Flow에서 조건에 맞는 상품이 없으면 "검색 결과가 없습니다" 메시지 표시

**2. 잘못된 페이지 번호 요청**

- 존재하지 않는 페이지 번호를 요청하면 첫 페이지로 자동 리다이렉트

#### Exception Flow

**1. 네트워크 오류로 상품 목록 조회 API 호출이 실패할 경우**

- "상품 목록을 불러올 수 없습니다" 메시지 표시
- "다시 시도" 버튼 제공
- 이전에 로드된 데이터가 있다면 유지

**2. API 응답이 3초 이상 지연될 경우**

- 로딩 스피너 표시
- 타임아웃 시 1.과 동일하게 처리

**3. 유효하지 않은 정렬 조건이나 브랜드 ID를 받을 경우**

- 기본 조건으로 대체하여 조회
- 사용자에게 별도 오류 표시 없이 정상 처리

## 상품 상세 조회

### 유저 시나리오

- 사용자는 상품 목록에서 상품 선택 시 상품 상세 정보를 조회할 수 있다.

### 행위 중심 기능 목록

- 조회: 상품 상세 정보를 조회한다.

---

### 유스케이스 흐름

#### Main Flow

1. 사용자가 상품 목록을 통해 상품 상세 조회 페이지에 진입하거나 진입한 상태에서 새로고침한다.

- 조건: 로그인 여부와 무관하게 진입 가능
- 후속 동작:
    * 시스템은 상품 목록에서 선택된 상품을 식별할 수 있는 정보(예: 상품코드)로 상품의 상세 정보(상품명, 상품 이미지, 좋아요 여부 등)를 조회한다.

#### Alternate Flow

**1. (상품이 삭제되어) 상품 정보가 없는 경우**

- Main Flow에서 상세 페이지 진입 시 상품 정보가 삭제된 경우 '상품 정보가 없습니다.' 메시지를 띄우고 상품 목록으로 되돌아간다.

#### Exception Flow

**1. 네트워크 오류로 상품 상세 조회 API 호출이 실패할 경우**

- "상품 상세 정보를 불러올 수 없습니다" 메시지 표시
- "다시 시도", '돌아가기' 버튼 제공

**2. API 응답이 3초 이상 지연될 경우**

- 로딩 스피너 표시
- 타임 아웃 시 E1과 동일하게 처리

**3. 유효하지 않은 상품 식별 정보를 받을 경우(잘못된 파라미터)**

- '상품 정보가 없습니다.' 메시지를 띄우고 상품 목록으로 되돌아간다.

## 브랜드 정보 조회

### 유저 시나리오

- 사용자는 상품 상세 정보 화면 진입 시 브랜드 정보를 조회할 수 있다.

### 행위 중심 기능 목록

- 조회: 브랜드 정보를 조회한다.

---

### 유스케이스 흐름

#### Main Flow

**1. 사용자가 상품 상세 페이지에 진입하거나, 진입한 상태에서 새로고침한다.**

- 조건: 로그인 여부와 무관하게 진입 가능

**2. 시스템은 상품 목록에서 선택된 상품을 식별할 수 있는 정보(예: 상품코드)로 상품의 상세 정보를 조회한다.**

- 후속 동작:
    * 조회된 상품 상세 정보(상품명, 상품 이미지, 좋아요 여부 등)을 화면에 표시한다.

#### Alternate Flow

**A1. (상품이 삭제되어) 상품 정보가 없는 경우**

- M1에서 상품 정보가 삭제된 경우 '상품 정보가 없습니다.' 메시지를 띄우고 상품 목록으로 되돌아간다.

#### Exception Flow

**E1. 네트워크 오류**

- 상품 상세 조회 API 호출이 실패하면
    * "상품 상세 정보를 불러올 수 없습니다" 메시지 표시
    * "다시 시도", '돌아가기' 버튼 제공

**E2. 서버 응답 지연**

- API 응답이 3초 이상 지연되면
    * 로딩 스피너 표시
    * 타임 아웃 시 E1과 동일하게 처리

**E3. 잘못된 파라미터**

- 유효하지 않은 상품 식별 정보를 받으면
    * '상품 정보가 없습니다.' 메시지를 띄우고 상품 목록으로 되돌아간다.
