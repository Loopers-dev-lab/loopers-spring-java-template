# 요구사항 정리

## 용어 정의

| 한글  | 영문      | 설명               |
|-----|---------|------------------|
| 상품  | Product | 판매되는 개별 상품       |
| 브랜드 | Brand   | 상품의 판매 브랜드       |
| 좋아요 | Like    | 사용자가 상품에 표시하는 관심 |
| 주문  | Order   | 상품을 구매하는 행위      |

> 이하 모든 문서에서 위 용어를 사용합니다.

---

## 상품 목록 조회

### 유저 시나리오

- 사용자는 상품 목록을 조회할 수 있다.
- 사용자는 특정 브랜드의 상품만 필터링할 수 있다.
- 사용자는 정렬 기준(최신순, 낮은 가격순, 좋아요순)을 선택할 수 있다.
- 사용자는 페이지 번호와 페이지당 표시 개수를 조정할 수 있다.

### 행위 중심 기능 목록

- 조회: 상품 목록을 조회한다.
- 필터: 브랜드별로 필터링한다.
- 정렬: 정렬 기준을 적용한다.
- 페이징: 페이지를 이동하거나 표시 개수를 변경한다.

---

### 유스케이스 흐름

#### Main Flow

M1. 사용자가 상품 목록 페이지에 진입한다.

- 조건: 로그인 여부와 무관하게 접근 가능

M2. 시스템은 기본 조건으로 상품 목록을 조회한다.

- 기본값: 전체 브랜드, 최신순, 1페이지, 20개씩
- 후속 동작:
    * 조회된 상품 목록을 화면에 표시
    * 페이지네이션 정보 표시 (총 개수, 현재 페이지 등)
    * 현재 적용된 필터/정렬 상태 표시

M3. 사용자가 필터 조건을 변경한다.

- 조건 분기:
    * 브랜드 선택 → 해당 브랜드 상품만 조회 (M4로)
    * 정렬 기준 변경 → 해당 정렬로 재조회 (M4로)
    * 페이지 이동/개수 변경 → 해당 조건으로 재조회 (M4로)

M4. 시스템은 변경된 조건으로 상품 목록을 다시 조회한다.

- 후속 동작:
    * 변경된 목록을 화면에 갱신
    * URL 파라미터 업데이트 (북마크/공유 가능하도록)
    * 페이지네이션 정보 업데이트

M5. 사용자는 M3-M4를 반복하여 원하는 조건으로 상품을 탐색한다.

#### Alternate Flow

**A1: 조회 결과가 없는 경우**

- M4에서 조회 시, 조건에 맞는 상품이 없으면
    * "검색 결과가 없습니다" 메시지 표시
    * 필터 조건을 초기화할 수 있는 버튼 제공
    * 추천 상품 표시 (선택사항)

**A2: 잘못된 페이지 번호 요청**

- 존재하지 않는 페이지 번호를 요청하면
    * 마지막 페이지로 자동 리다이렉트
    * 또는 첫 페이지로 리다이렉트

**A3: 브라우저 뒤로가기로 진입**

- URL 파라미터의 필터/정렬/페이지 조건을 읽어서
    * 해당 조건이 적용된 상태로 목록 표시

#### Exception Flow

**E1: 네트워크 오류**

- 상품 목록 조회 API 호출이 실패하면
    * "상품 목록을 불러올 수 없습니다" 메시지 표시
    * "다시 시도" 버튼 제공
    * 이전에 로드된 데이터가 있다면 유지

**E2: 서버 응답 지연**

- API 응답이 3초 이상 지연되면
    * 로딩 스피너 표시
    * 타임아웃 시 E1과 동일하게 처리

**E3: 잘못된 파라미터**

- 유효하지 않은 정렬 조건이나 브랜드 ID를 받으면
    * 기본 조건으로 대체하여 조회
    * 사용자에게 별도 오류 표시 없이 정상 처리